(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[170],{1159:function(e,a,t){Promise.resolve().then(t.bind(t,7894))},7894:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return z}});var s=t(7437),l=t(2265);function n(e){let{title:a="Oops",description:t="Nothing here",icon:l,className:n,children:r}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 py-10",children:[(0,s.jsx)("div",{children:(0,s.jsx)("img",{src:"/img/empty.png",className:"h-20",alt:""})}),(0,s.jsx)("h3",{className:"text-lg sm:text-xl text-secondary-dark  font-light",children:a}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-dark-200 mb-1 font-light",children:t}),r]})}var r=t(9733),i=t(8343),c=t(8015);let o=async e=>{try{let a=await (0,c.Z)("WorkspaceQuiz","get",null,{suffix:e});console.log("Quizzes",a),(null==a?void 0:a.length)&&i.a.setState({quizzes:a})}catch(e){throw e}};var d=t(8726);function m(){return(0,s.jsx)("div",{children:"Recent Quizzes"})}var x=t(9354);function u(e){let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,x.cn)("animate-pulse rounded-md bg-outline",a),...t})}var f=t(2725);function p(){let{quizDisplay:e}=(0,i.a)();return"LIST"===e?(0,s.jsx)("div",{className:"flex flex-col gap-6 py-4",children:Array.from({length:3}).map((e,a)=>(0,s.jsxs)("div",{className:"flex gap-4 bg-white border border-light px-3 py-2 rounded-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex flex-1 items-center gap-3",children:[(0,s.jsx)(u,{className:"h-9 w-9 rounded-full"}),(0,s.jsx)(u,{className:"h-6 w-[80px] sm:w-[120px]"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(u,{className:"h-4 w-6 sm:w-10"}),(0,s.jsx)(u,{className:"h-4 w-16 sm:w-28"}),(0,s.jsx)(u,{className:"h-4 w-6 sm:w-10"})]})]},a))}):"GRID"===e?(0,s.jsx)("div",{className:"py-4 w-full md:w-11/12 mx-auto flex flex-col md:flex-row items-center gap-4 md:gap-6",children:Array.from({length:4}).map((e,a)=>(0,s.jsxs)("div",{className:"w-10/12 mx-auto space-y-2 border border-light p-3 rounded-xl",children:[(0,s.jsx)("div",{className:"w-full h-24"}),(0,s.jsx)(u,{className:"h-4  w-full "}),(0,s.jsx)(u,{className:"h-4  w-10/12 "})]},a))}):(0,s.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,s.jsx)(f.Z,{})})}function h(e){let{quiz:a}=e,{quizDisplay:t}=(0,i.a)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"border border-outline rounded-xl py-2 px-3 bg-background flex items-center gap-4",children:(0,s.jsx)("div",{className:"flex-shrink-0 h-9 w-9 bg-accent text-secondary-dark text-sm rounded-full flex items-center justify-center font-medium",children:"MN"})})})}function g(){let[e,a]=(0,l.useState)(!1),{selectedWorkspace:t,quizzes:c,quizDisplay:x}=(0,i.a)(),u=async()=>{if(t)try{a(!0),await o(t._id)}catch(e){d.ZP.error(e.message||"Error fetching quiz")}finally{a(!1)}};return((0,l.useEffect)(()=>{u()},[t]),e)?(0,s.jsx)("div",{className:"container px-3",children:(0,s.jsx)(p,{})}):(0,s.jsx)(s.Fragment,{children:(null==c?void 0:c.length)?(0,s.jsx)(n,{title:"There’s not a quiz in sight",description:"",children:(0,s.jsxs)(r.z,{children:[(0,s.jsx)("i",{className:"pi pi-plus"}),"Create a new quiz"]})}):(0,s.jsxs)("div",{className:"container px-3 flex flex-col gap-4",children:[(0,s.jsx)(m,{}),(0,s.jsx)("div",{className:"".concat("LIST"===x?"flex-col":""," flex gap-4"),children:Array.from({length:4}).map((e,a)=>(0,s.jsx)(h,{},a))})]})})}var j=t(4114),N=t(1590),v=t(4760);let w=["Rename","Leave","Delete"],y=[{label:"Date created",value:"createdAt",icon:"/icons/calendar.svg"},{label:"Last updated",value:"updatedAt",icon:"/icons/edit.svg"},{label:"Alphabetical",value:"title",icon:"/icons/sort.svg"}],b=[{label:"List",value:"LIST",icon:"/icons/list.svg",active:"/icons/list_active.svg"},{label:"Grid",value:"GRID",icon:"/icons/workspace.svg",active:"/icons/workspace_active.svg"}];function k(){let e=function(){let e=(e,a)=>{i.a.setState({loading:e,loadingText:a||""})};return(0,l.useEffect)(()=>{e(!1,"Loading...")},[]),{setLoader:e}}(),{user:a,selectedWorkspace:t,quizDisplay:n}=(0,i.a)(),[c,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!1),[u,f]=(0,l.useState)(y[0]),p=e=>{i.a.setState({quizDisplay:e})},h=async s=>{if("Rename"===s){o(!0);return}if("Delete"===s||"Leave"===s){let l="Delete"===s,n=l?"Deleting":"Leaving",r=null==t?void 0:t._id,i=null==a?void 0:a._id;if(!r||!i)return;try{e.setLoader(!0,"".concat(n," workspace...")),l?await (0,v.zl)(r):await (0,v.n8)(r,i),l&&d.ZP.success("Workspace deleted successfully")}catch(e){d.ZP.error((null==e?void 0:e.message)||"error ".concat(n," workspace")),console.log(e)}finally{e.setLoader(!1)}}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-full border-y ",children:(0,s.jsxs)("div",{className:"container flex items-center justify-between gap-4 p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 ",children:[(0,s.jsx)("h3",{className:"text-sm sm:text-base text-secondary-dark",children:null==t?void 0:t.title}),(0,s.jsxs)(N.h_,{children:[(0,s.jsx)(N.$F,{asChild:!0,children:(0,s.jsx)("img",{className:"cursor-pointer",src:"/icons/dots.svg",alt:""})}),(0,s.jsx)(N.AW,{className:"w-24 mt-2 bg-white/30 backdrop-blur-md",children:(0,s.jsx)(N.Qk,{className:"max-h-44 overflow-auto",children:w.map(e=>(0,s.jsx)(N.Xi,{onClick:()=>h(e),className:"".concat("Delete"==e?"text-error-dark":""," font-light gap-2 py-2"),children:e},e))})})]})]}),(0,s.jsxs)(r.z,{className:"!text-dark-300 !text-sm hover:!bg-dark-50/30",color:"white",size:"xsmall",children:[(0,s.jsx)("img",{src:"/icons/invite.svg",alt:""}),(0,s.jsx)("span",{className:"hidden md:flex",children:"Invite"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(N.h_,{open:m,onOpenChange:x,children:[(0,s.jsx)(N.$F,{asChild:!0,children:(0,s.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("img",{src:null==u?void 0:u.icon,alt:""}),(0,s.jsx)("span",{className:"hidden sm:flex text-sm text-dark-300 ",children:null==u?void 0:u.label}),(0,s.jsx)("span",{className:"".concat(m?"":"-rotate-90"," transition-transform transform "),children:(0,s.jsx)("img",{src:"/icons/arrow_down.svg",alt:""})})]})}),(0,s.jsx)(N.AW,{className:"w-44 mt-2 bg-white/30 backdrop-blur-md",children:(0,s.jsx)(N.Qk,{className:"max-h-44 overflow-auto",children:y.map(e=>(0,s.jsxs)(N.Xi,{onClick:()=>f(e),className:"font-light gap-2 py-2",children:[(0,s.jsx)("img",{src:e.icon,alt:""}),e.label]},e.label))})})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 rounded-lg border overflow-hidden",children:b.map(e=>(0,s.jsxs)("div",{onClick:()=>p(e.value),className:"".concat(e.value==n?"text-secondary-dark bg-accent":"text-dark-300"," flex items-center gap-2 p-1.5 text-sm cursor-pointer"),children:[(0,s.jsx)("img",{className:"w-4.5",src:e.value==n?e.active:e.icon,alt:""}),(0,s.jsx)("span",{className:"hidden md:flex",children:e.label})]},e.label))})]})]})}),(0,s.jsx)(j.Z,{edit:!0,open:c,setOpen:o})]})}function z(){let{workspaces:e}=(0,i.a)(),[a,t]=(0,l.useState)(!1);return(0,s.jsx)(s.Fragment,{children:(null==e?void 0:e.length)?(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsx)(k,{}),(0,s.jsx)(g,{})]}):(0,s.jsxs)("div",{className:"py-14",children:[(0,s.jsx)(n,{title:"There’s not a workspace in sight",description:"",children:(0,s.jsxs)(r.z,{onClick:()=>t(!0),children:[(0,s.jsx)("i",{className:"pi pi-plus"}),"Create a workspace"]})}),(0,s.jsx)(j.Z,{open:a,setOpen:t})]})})}},4114:function(e,a,t){"use strict";t.d(a,{Z:function(){return k}});var s=t(7437),l=t(2265),n=t(1014),r=t(9343),i=t(7114),c=t(3304),o=t(4697),d=t(9354);let m=c.fC;c.xz;let x=c.h_;c.x8;let u=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(c.aV,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-black/70 backdrop-blur-sm  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})});u.displayName=c.aV.displayName;let f=l.forwardRef((e,a)=>{let{className:t,children:l,...n}=e;return(0,s.jsxs)(x,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(c.VY,{ref:a,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[l,(0,s.jsxs)(c.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=c.VY.displayName;let p=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};p.displayName="DialogHeader";let h=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};h.displayName="DialogFooter";let g=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(c.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})});g.displayName=c.Dx.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(c.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",t),...l})}).displayName=c.dk.displayName;var j=t(8726),N=t(6685),v=t(9733),w=t(5375),y=t(8343),b=t(4760);function k(e){let{open:a,setOpen:t,edit:c=!1}=e,[o,d]=(0,l.useState)(!1),{selectedWorkspace:x}=(0,y.a)(),u=(0,r.cI)({resolver:(0,n.F)(w.TN),defaultValues:{title:""}});async function k(e){try{if(d(!0),c){let a={title:e.title,workspaceId:null==x?void 0:x._id};await (0,b.qQ)(a)}else await (0,b.MB)(e.title);z(),j.ZP.success("Workspace ".concat(c?"updated":"created"," successfully"))}catch(e){j.ZP.error((null==e?void 0:e.message)||"Error creating workspace")}finally{d(!1)}}function z(){u.reset(),t(!1)}return(0,l.useEffect)(()=>{c&&u.setValue("title",(null==x?void 0:x.title)||"")},[a]),(0,s.jsx)(m,{open:a,onOpenChange:z,children:(0,s.jsxs)(f,{onInteractOutside:e=>{e.preventDefault()},className:"sm:max-w-[425px]",children:[(0,s.jsx)(p,{children:(0,s.jsx)(g,{className:"font-medium",children:c?"Rename workspace":"Create a new workspace"})}),(0,s.jsx)(i.l0,{...u,children:(0,s.jsx)("form",{className:"w-full  mx-auto   text-dark-300 flex flex-col gap-3.5",children:(0,s.jsx)(i.Wi,{control:u.control,name:"title",render:e=>{let{field:a,fieldState:{error:t}}=e;return(0,s.jsxs)(i.xJ,{children:[(0,s.jsx)(i.lX,{children:"Workspace name"}),(0,s.jsx)(i.NI,{children:(0,s.jsx)(N.Z,{id:"title",placeholder:"Name of your workspace",error:t?String(t.message):"",...a})})]})}})})}),(0,s.jsx)(h,{children:(0,s.jsxs)("div",{className:"flex items-start justify-end gap-4",children:[(0,s.jsx)(v.z,{onClick:z,type:"button",variant:"outline",children:"Cancel"}),(0,s.jsx)(v.z,{onClick:u.handleSubmit(k),loading:o,children:c?"Update workspace":"Create workspace"})]})})]})})}},1590:function(e,a,t){"use strict";t.d(a,{$F:function(){return m},AW:function(){return u},Qk:function(){return x},VD:function(){return p},Xi:function(){return f},h_:function(){return d}});var s=t(7437),l=t(2265),n=t(9518),r=t(7592),i=t(2468),c=t(8165),o=t(9354);let d=n.fC,m=n.xz,x=n.ZA;n.Uv,n.Tr,n.Ee,l.forwardRef((e,a)=>{let{className:t,inset:l,children:i,...c}=e;return(0,s.jsxs)(n.fF,{ref:a,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",l&&"pl-8",t),...c,children:[i,(0,s.jsx)(r.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=n.fF.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(n.tu,{ref:a,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})}).displayName=n.tu.displayName;let u=l.forwardRef((e,a)=>{let{className:t,sideOffset:l=4,...r}=e;return(0,s.jsx)(n.Uv,{children:(0,s.jsx)(n.VY,{ref:a,sideOffset:l,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})})});u.displayName=n.VY.displayName;let f=l.forwardRef((e,a)=>{let{className:t,inset:l,...r}=e;return(0,s.jsx)(n.ck,{ref:a,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",t),...r})});f.displayName=n.ck.displayName,l.forwardRef((e,a)=>{let{className:t,children:l,checked:r,...c}=e;return(0,s.jsxs)(n.oC,{ref:a,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...c,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.wU,{children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})}),l]})}).displayName=n.oC.displayName,l.forwardRef((e,a)=>{let{className:t,children:l,...r}=e;return(0,s.jsxs)(n.Rk,{ref:a,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.wU,{children:(0,s.jsx)(c.Z,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=n.Rk.displayName,l.forwardRef((e,a)=>{let{className:t,inset:l,...r}=e;return(0,s.jsx)(n.__,{ref:a,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",t),...r})}).displayName=n.__.displayName;let p=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(n.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-outline",t),...l})});p.displayName=n.Z0.displayName}},function(e){e.O(0,[990,776,628,412,907,980,996,971,23,744],function(){return e(e.s=1159)}),_N_E=e.O()}]);